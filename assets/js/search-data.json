{
  
    
        "post0": {
            "title": "(R) tidy data",
            "content": "library(&#39;tidyverse&#39;) . pivot . table4a %&gt;% pivot_longer(c(&#39;1999&#39;, &#39;2000&#39;), names_to = &quot;year&quot;, values_to = &quot;cases&quot;) . A tibble: 6 × 3 countryyearcases . &lt;chr&gt;&lt;chr&gt;&lt;int&gt; . Afghanistan | 1999 | 745 | . Afghanistan | 2000 | 2666 | . Brazil | 1999 | 37737 | . Brazil | 2000 | 80488 | . China | 1999 | 212258 | . China | 2000 | 213766 | . table4a %&gt;% pivot_longer(c(&#39;1999&#39;,&#39;2000&#39;), names_to = &#39;year&#39;, values_to = &#39;population&#39;) . A tibble: 6 × 3 countryyearpopulation . &lt;chr&gt;&lt;chr&gt;&lt;int&gt; . Afghanistan | 1999 | 745 | . Afghanistan | 2000 | 2666 | . Brazil | 1999 | 37737 | . Brazil | 2000 | 80488 | . China | 1999 | 212258 | . China | 2000 | 213766 | . table4a . A tibble: 3 × 3 country19992000 . &lt;chr&gt;&lt;int&gt;&lt;int&gt; . 1Afghanistan | 745 | 2666 | . 2Brazil | 37737 | 80488 | . 3China | 212258 | 213766 | . tidy4a &lt;- table4a %&gt;% pivot_longer(c(&#39;1999&#39;, &#39;2000&#39;), names_to = &#39;year&#39;, values_to = &#39;cases&#39;) tidy4b &lt;- table4b %&gt;% pivot_longer(c(&#39;1999&#39;, &#39;2000&#39;), names_to = &#39;year&#39;, values_to = &#39;population&#39;) left_join(tidy4a, tidy4b) . Joining, by = c(&#34;country&#34;, &#34;year&#34;) . A tibble: 6 × 4 countryyearcasespopulation . &lt;chr&gt;&lt;chr&gt;&lt;int&gt;&lt;int&gt; . Afghanistan | 1999 | 745 | 19987071 | . Afghanistan | 2000 | 2666 | 20595360 | . Brazil | 1999 | 37737 | 172006362 | . Brazil | 2000 | 80488 | 174504898 | . China | 1999 | 212258 | 1272915272 | . China | 2000 | 213766 | 1280428583 | .",
            "url": "https://jjyun98.github.io/main/2022/07/22/_tidydata.html",
            "relUrl": "/2022/07/22/_tidydata.html",
            "date": " • Jul 22, 2022"
        }
        
    
  
    
        ,"post1": {
            "title": "R ggplot",
            "content": "1&#51109; ggplot . library(&#39;tidyverse&#39;) . color . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y= hwy, color = class)) . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y= hwy, size = class)) . Warning message: “Using size for a discrete variable is not advised.” . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y = hwy, alpha = class)) . Warning message: “Using alpha for a discrete variable is not advised.” . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y = hwy, shape = class)) . Warning message: “The shape palette can deal with a maximum of 6 discrete values because more than 6 becomes difficult to discriminate; you have 7. Consider specifying shapes manually if you must have them.” Warning message: “Removed 62 rows containing missing values (geom_point).” . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y= hwy), color = &#39;blue&#39;) . facet_wrap . - 차 종류(class)에 따라 나눈 모습 nrow = 줄 개수 . ggplot(data = mpg) + geom_point(mapping = aes(x=displ, y=hwy)) + facet_wrap(~ class, nrow = 3) . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y= hwy)) + facet_grid(drv ~ cyl) . # ![Image](IMG_0393.jpg) . 깃헙 이미지는 올리법 따로 있음 그거 이용 . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y= hwy),shape =23) . facet_grid . facet grid에 적은 항목들의 결과 plot 보여줌 . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y =hwy)) + facet_grid(drv ~ cyl) . mpg %&gt;% head . A tibble: 6 × 11 manufacturermodeldisplyearcyltransdrvctyhwyflclass . &lt;chr&gt;&lt;chr&gt;&lt;dbl&gt;&lt;int&gt;&lt;int&gt;&lt;chr&gt;&lt;chr&gt;&lt;int&gt;&lt;int&gt;&lt;chr&gt;&lt;chr&gt; . audi | a4 | 1.8 | 1999 | 4 | auto(l5) | f | 18 | 29 | p | compact | . audi | a4 | 1.8 | 1999 | 4 | manual(m5) | f | 21 | 29 | p | compact | . audi | a4 | 2.0 | 2008 | 4 | manual(m6) | f | 20 | 31 | p | compact | . audi | a4 | 2.0 | 2008 | 4 | auto(av) | f | 21 | 30 | p | compact | . audi | a4 | 2.8 | 1999 | 6 | auto(l5) | f | 16 | 26 | p | compact | . audi | a4 | 2.8 | 1999 | 6 | manual(m5) | f | 18 | 26 | p | compact | . mpg$drv %&gt;% unique() . &lt;ol class=list-inline&gt;&#39;f&#39; | &#39;4&#39; | &#39;r&#39; | &lt;/ol&gt; mpg$cyl %&gt;% unique() . &lt;ol class=list-inline&gt;4 | 6 | 8 | 5 | &lt;/ol&gt; 열이나 행으로 면분할 하고싶지 않다면 변수이름 대신 . 사용 . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y =hwy)) + facet_grid(. ~ cyl) . cyl에 대한 내용만 나옴 . ggplot(data = mpg) + geom_point(mapping = aes(x= displ, y = hwy)) . geom_smooth . ggplot(data = mpg)+ geom_smooth(mapping = aes(x=displ, y= hwy)) . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . 데이터에 적합된 평활선 . line자체의 shape은 선택 불가지만 line type 선택 해줄 수 있음 . ggplot(data = mpg)+ geom_smooth(mapping = aes(x=displ, y=hwy, linetype = drv)) . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . 색깔 입히기 가능 . ggplot(data = mpg)+ geom_smooth(mapping = aes(x=displ, y=hwy, group = drv)) . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . ggplot(data = mpg)+ geom_smooth(mapping = aes(x=displ, y=hwy, color = drv)) . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . 다 합쳐서 그리기 . ggplot(data = mpg)+ geom_point(mapping = aes(x=displ, y=hwy,color = drv))+ geom_smooth(mapping = aes(x=displ, y=hwy, color = drv, linetype = drv)) . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . &#53076;&#46300; &#51473;&#48373; &#54588;&#54616;&#44592; . ggplot안에 mapping 해 놓으면 다음번에 안써도 된다 . ggplot(data = mpg, mapping = aes(x= displ, y=hwy)) + geom_point() + geom_smooth() . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . mapping 해놓고 옵션추가 하고 싶다면 해당 geom에 가서 그 부분만 mapping하고 옵션주면 됨. . ggplot(data = mpg, mapping = aes(x= displ, y=hwy)) + geom_point(mapping = aes(color = class)) + geom_smooth() . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . filter &#49324;&#50857; . 해당 레이어에 한해서만 smooth 하기위해 filter 사용 se = FALSE하면 그림자 꺼짐 . ggplot(data = mpg, mapping = aes(x= displ, y=hwy)) + geom_point(mapping = aes(color = class)) + geom_smooth( data = filter(mpg, class == &#39;subcompact&#39;), se= FALSE ) . `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; . ggplot(data = diamonds) + geom_bar(mapping = aes(x= cut)) . ggplot(data = diamonds)+ stat_count(mapping = aes(x=cut)) . 이것을 보면 geom_bar의 y축의 default값이 stat_count임을 알 수 있다 이 stat을 다른 값을 주면 y축 종류를 바꿀 수 있음 . demo &lt;- tribble( ~cut, ~freq, &quot;Fair&quot;, 1610, &quot;Good&quot;, 4906, &quot;Very Good&quot;, 12082, &quot;Premium&quot;, 13791, &quot;Ideal&quot;, 21551 ) . demo . A tibble: 5 × 2 cutfreq . &lt;chr&gt;&lt;dbl&gt; . Fair | 1610 | . Good | 4906 | . Very Good | 12082 | . Premium | 13791 | . Ideal | 21551 | . ggplot(data = demo) + geom_bar(mapping = aes(x= cut,y=freq), stat = &#39;identity&#39;) . 비율로 표시하기 . ggplot(data = diamonds) + geom_bar( mapping = aes(x = cut, y = stat(prop), group =1) ) . stat_summary로 표현 . ggplot(data = diamonds) + stat_summary( mapping = aes(x = cut, y= depth), fun.ymin = min, fun.ymax = max, fun.y = median ) . Warning message: “`fun.y` is deprecated. Use `fun` instead.” Warning message: “`fun.ymin` is deprecated. Use `fun.min` instead.” Warning message: “`fun.ymax` is deprecated. Use `fun.max` instead.” . geom_bar에서 color 사용시 막대그래프의 테두리 색 선택 geom_bar에서 fill 사용시 막대그래프 자체 색 선택 . ggplot(data = diamonds) + geom_bar(mapping = aes(x= cut, color = cut)) ggplot(data = diamonds) + geom_bar(mapping = aes(x= cut, fill = cut)) . - 다른 변수 추가해서 각각 얼마나 차지하는지 보이기 . ggplot(data = diamonds) + geom_bar(mapping = aes(x= cut, fill = clarity)) . diamonds$clarity %&gt;% unique . &lt;ol class=list-inline&gt;SI2 | SI1 | VS1 | VS2 | VVS2 | VVS1 | I1 | IF | &lt;/ol&gt; &lt;summary style=display:list-item;cursor:pointer&gt; Levels: &lt;/summary&gt; &lt;ol class=list-inline&gt;&#39;I1&#39; | &#39;SI2&#39; | &#39;SI1&#39; | &#39;VS2&#39; | &#39;VS1&#39; | &#39;VVS2&#39; | &#39;VVS1&#39; | &#39;IF&#39; | &lt;/ol&gt; position = &#39;identity&#39; : 각 객체를 그래프 문맥에 해당되는 곳에 정확히 배치한다. 다만, 막대그래프에서는 그리 유용하지 않음 . ggplot( data = diamonds, mapping = aes(x = cut, fill = clarity) )+ geom_bar(alpha = 0.3, position = &#39;identity&#39;) . 테두리만 색입히고 막대를 빈공간으로 만드는 것도 가능 . ggplot( data = diamonds, mapping = aes(x = cut, color = clarity) )+ geom_bar(fill = NA, position = &#39;identity&#39;) . position = &#39;fill&#39; : 누적 막대인데 막대 높이를 동일하게 맞춤 비율 비교에 용이 . ggplot(data = diamonds) + geom_bar( mapping = aes(x =cut, fill = clarity), position = &#39;fill&#39; ) . position = &#39;dodge&#39; : 옆으로 쌓기 개별 값들의 비교 용이 . ggplot(data = diamonds) + geom_bar( mapping = aes(x =cut, fill = clarity), position = &#39;dodge&#39; ) . position = &#39;jitter&#39; : 중복된 값 진하게 표시 . ggplot(data = mpg) + geom_point( mapping = aes(x =displ, y=hwy), position = &#39;jitter&#39; ) . coord_flip() : x축 y축 변경 . ggplot(data = mpg, mapping = aes(x = class, y= hwy)) + geom_boxplot() ggplot(data = mpg, mapping = aes(x = class, y= hwy)) + geom_boxplot() + coord_flip() . maps : 위도, 경도 가져오는 library . library(&#39;maps&#39;) . 다음의 패키지를 부착합니다: ‘maps’ The following object is masked from ‘package:purrr’: map . nz &lt;- map_data(&#39;nz&#39;) . nz %&gt;% head . A data.frame: 6 × 6 longlatgrouporderregionsubregion . &lt;dbl&gt;&lt;dbl&gt;&lt;dbl&gt;&lt;int&gt;&lt;chr&gt;&lt;chr&gt; . 1172.7433 | -34.44215 | 1 | 1 | North.Island | NA | . 2172.7983 | -34.45562 | 1 | 2 | North.Island | NA | . 3172.8528 | -34.44846 | 1 | 3 | North.Island | NA | . 4172.8986 | -34.41786 | 1 | 4 | North.Island | NA | . 5172.9593 | -34.42503 | 1 | 5 | North.Island | NA | . 6173.0184 | -34.39895 | 1 | 6 | North.Island | NA | . ggplot(nz, aes(long, lat, group = group)) + geom_polygon(fill = &#39;white&#39;, color = &#39;black&#39;) . coord_quickmap() : 지도에 맞게 가로세로 비율 설정 공간 데이터 plot에서 중요 . ggplot(nz, aes(long, lat, group = group)) + geom_polygon(fill = &#39;white&#39;, color = &#39;black&#39;) + coord_quickmap() . labs : NULL하면 x축이나 y축 이름 안보이게 함 theme(aspect.ratio) : 1이면 정사각형 모양, 그 이상은 세로 길어짐, 이하는 가로가 길어짐 width : 막대 뚱뚱한 정도 show.legend : 범주 표기 여부 . bar &lt;- ggplot(data = diamonds) + geom_bar( mapping = aes(x = cut, fill = cut), show.legend = FALSE, width = 1 ) + theme(aspect.ratio = 1)+ labs(x = NULL, y = NULL) bar + coord_flip() . coord_polar() : pie 차트로 변경 . bar + coord_polar() . 2&#51109; . this . Error in eval(expr, envir, enclos): 객체 &#39;this&#39;를 찾을 수 없습니다 Traceback: .",
            "url": "https://jjyun98.github.io/main/2022/07/22/_ggplot_%ED%95%99%EC%8A%B5.html",
            "relUrl": "/2022/07/22/_ggplot_%E1%84%92%E1%85%A1%E1%86%A8%E1%84%89%E1%85%B3%E1%86%B8.html",
            "date": " • Jul 22, 2022"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "This website is powered by fastpages 1. . a blogging platform that natively supports Jupyter notebooks in addition to other formats. &#8617; . |",
          "url": "https://jjyun98.github.io/main/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page10": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://jjyun98.github.io/main/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}